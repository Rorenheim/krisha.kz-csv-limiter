# –ü–∞—Ä—Å–µ—Ä —Å–∞–π—Ç–∞ –∞—Ä–µ–Ω–¥—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏ krisha.kz

[![License: MIT](https://img.shields.io/github/license/andprov/krisha.kz?color=blueviolet)](https://github.com/andprov/krisha.kz/blob/main/LICENSE.md)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

# –û–ø–∏—Å–∞–Ω–∏–µ

–ü–æ –∑–∞–¥–∞–Ω–Ω—ã–º [–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º](#params) –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –ø–æ–∏—Å–∫ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –æ–±—ä—è–≤–ª–µ–Ω–∏–π:
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏–π. 
–ù–∞—Ö–æ–¥–∏—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º.
- –ü—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –∫–∞–∂–¥–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∏ —Å–æ–±–∏—Ä–∞–µ—Ç 
–¥–∞–Ω–Ω—ã–µ.
- –ü–æ—Å–ª–µ –æ–±—Ö–æ–¥–∞ –¥–≤–∞–¥—Ü–∞—Ç–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ SQLite –±–∞–∑—É, 
–ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤—ã–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–∏—Å–∫–∞, –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–∞–π—Ç–∞.
–î–ª—è —É–∫–∞–∑–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–∏—Å–∫–∞, –≤ –∫–æ—Ä–Ω–µ–≤–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è 
—Ñ–∞–π–ª `SEARCH_PARAMETERS.json`.


### üí° –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã
- [Python3.9 –∏ –≤—ã—à–µ](https://www.python.org/)
- [SQLite3](https://www.sqlite.org/index.html)

### –°—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ
- [BeautifulSoup4](https://www.crummy.com/software/BeautifulSoup/bs4/doc/)
- [requests](https://requests.readthedocs.io/en/latest/)


# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```
git clone <https or SSH URL>
```

–ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:
```
cd krisha.kz
```

–°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```
python3 -m venv venv
```

–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```
source venv/bin/activate
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```
pip install -r requirements.txt
```

–£–∫–∞–∑–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –≤ —Ñ–∞–ª–µ `SEARCH_PARAMETERS.json`: [—Å–º. –ø—Ä–∏–º–µ—Ä—ã](#examples)

–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç:
```
python3 main.py
```

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–ø—É—Å–∫–∞ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª cron.sh, –≤–Ω–µ—Å—Ç–∏ —Å–≤–æ–π –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É:
```
#!/bin/bash
cd /home/< user-name >/< dir-name >/krisha.kz
source venv/bin/activate
python main.py
```
–û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ cron:
```
crontab -e
```
–í–Ω–µ—Å—Ç–∏ –∑–∞–ø–∏—Å—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –∑–∞–ø—É—Å–∫–∞:
```
# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤ 12 —á–∞—Å–æ–≤.
* 12 * * * /home/< user-name >/< dir-name >/krisha.kz/cron.sh
```

# <a id="params">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞</a>

- `city`: `int` - –ì–æ—Ä–æ–¥ –ø–æ–∏—Å–∫–∞ –æ—Ç 0 –¥–æ 20;
- `has_photo`: `bool` - –ù–∞–ª–∏—á–∏–µ —Ñ–æ—Ç–æ —É –æ–±—ä—è–≤–ª–µ–Ω–∏—è;
- `furniture`: `bool` - –ù–∞–ª–∏—á–∏–µ –º–µ–±–µ–ª–∏ –≤ –∫–≤–∞—Ä—Ç–∏—Ä–µ;
- `rooms`: `list[int]` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–Ω–∞—Ç –æ—Ç 1 –¥–æ 5;
- `price_from`: `int` - –°—Ç–æ–∏–º–æ—Å—Ç—å, –Ω–∏–∂–Ω–∏–π –ø—Ä–µ–¥–µ–ª;
- `price_to`: `int` - –°—Ç–æ–∏–º–æ—Å—Ç—å, –≤–µ—Ä—Ö–Ω–∏–π –ø—Ä–µ–¥–µ–ª;
- `owner`: `bool` - –û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–º;

### –í–∞—Ä–∏–∞–Ω—Ç—ã –∑–Ω–∞—á–µ–Ω–∏—è `city`

- 0 - –í–µ—Å—å –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω.
- 1 - –ê–ª–º–∞—Ç—ã.
- 2 - –ê—Å—Ç–∞–Ω–∞.
- 3 - –®—ã–º–∫–µ–Ω—Ç.
- 4 - –ê–±–∞–π—Å–∫–∞—è –æ–±–ª.
- 5 - –ê–∫–º–æ–ª–∏–Ω—Å–∫–∞—è –æ–±–ª.
- 6 - –ê–∫—Ç—é–±–∏–Ω—Å–∫–∞—è –æ–±–ª.
- 7 - –ê–ª–º–∞—Ç–∏–Ω—Å–∫–∞—è –æ–±–ª.
- 8 - –ê—Ç—ã—Ä–∞—É—Å–∫–∞—è –æ–±–ª.
- 9 - –í–æ—Å—Ç–æ—á–Ω–æ-–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∞—è –æ–±–ª.
- 10 - –ñ–∞–º–±—ã–ª—Å–∫–∞—è –æ–±–ª.
- 11 - –ñ–µ—Ç—ã—Å—É—Å–∫–∞—è –æ–±–ª.
- 12 - –ó–∞–ø–∞–¥–Ω–æ-–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∞—è –æ–±–ª.
- 13 - –ö–∞—Ä–∞–≥–∞–Ω–¥–∏–Ω—Å–∫–∞—è –æ–±–ª.
- 14 - –ö–æ—Å—Ç–∞–Ω–∞–π—Å–∫–∞—è –æ–±–ª.
- 15 - –ö—ã–∑—ã–ª–æ—Ä–¥–∏–Ω—Å–∫–∞—è –æ–±–ª.
- 16 - –ú–∞–Ω–≥–∏—Å—Ç–∞—É—Å–∫–∞—è –æ–±–ª.
- 17 - –ü–∞–≤–ª–æ–¥–∞—Ä—Å–∫–∞—è –æ–±–ª.
- 18 - –°–µ–≤–µ—Ä–æ-–ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∞—è –æ–±–ª.
- 19 - –¢—É—Ä–∫–µ—Å—Ç–∞–Ω—Å–∫–∞—è –æ–±–ª.
- 20 - –£–ª—ã—Ç–∞—É—Å–∫–∞—è –æ–±–ª.


### <a id="examples">–ü—Ä–∏–º–µ—Ä—ã —É–∫–∞–∑–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–∏—Å–∫–∞:</a1>
1. –ù–∞–π—Ç–∏ –æ–¥–Ω–æ–∫–æ–º–Ω–∞—Ç–Ω—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä–∞–º–∏ –≤ –ê–ª–º–∞—Ç—ã.
–û–±—ä—è–≤–ª–µ–Ω–∏—è —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏.
–ö–≤–∞—Ä—Ç–∏—Ä—ã —Å –º–µ–±–µ–ª—å—é.
–°—Ç–æ–∏–º–æ—Å—Ç—å –æ—Ç 100000 –¥–æ 300000.
–û–±—ä—è–≤–ª–µ–Ω–∏—è –æ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤.
```json
{
  "city": 1,
  "has_photo": true,
  "furniture": true,
  "rooms": [1],
  "price_from": 100000,
  "price_to": 300000,
  "owner": true
}
```

2. –ù–∞–π—Ç–∏ –¥–≤—É—Ö–∫–æ–º–Ω–∞—Ç–Ω—ã–µ –∏ —Ç—Ä–µ—Ö–∫–æ–º–Ω–∞—Ç–Ω—ã–µ –∫–≤–∞—Ä—Ç–∏—Ä—ã –≤ –ê—Å—Ç–∞–Ω–µ.
–û–±—ä—è–≤–ª–µ–Ω–∏—è —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏.
–ö–≤–∞—Ä—Ç–∏—Ä—ã –±–µ–∑ –º–µ–±–µ–ª–∏.
–°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ 400000.
–û–±—ä—è–≤–ª–µ–Ω–∏—è –æ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤.
```json
{
  "city": 2,
  "has_photo": true,
  "rooms": [2, 3],
  "price_to": 400000,
  "owner": true
}
```

3. –ù–∞–π—Ç–∏ –∫–≤–∞—Ä—Ç–∏—Ä—ã —Å –ª—é–±—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∫–æ–º–Ω–∞—Ç –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ.
–û–±—ä—è–≤–ª–µ–Ω–∏—è –±–µ–∑ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π.
–ö–≤–∞—Ä—Ç–∏—Ä–∞ –±–µ–∑ –º–µ–±–µ–ª–∏.
–°—Ç–æ–∏–º–æ—Å—Ç—å –æ—Ç 200000.
–û–±—ä—è–≤–ª–µ–Ω–∏—è –æ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤, –∞–≥–µ–Ω—Ç—Å—Ç–≤ –∏ —á–∞—Å—Ç–Ω—ã—Ö —Ä–∏—ç–ª—Ç–æ—Ä–æ–≤.
```json
{
  "price_from": 200000
}
```

–í–µ—Ä–Ω–µ—Ç —Ç–∞–∫–æ–π –∂–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∫–∞–∫ –ø—Ä–∏–º–µ—Ä ‚Ññ 3.
```json
{
  "city": 0,
  "has_photo": false,
  "furniture": false,
  "rooms": [0],
  "price_from": 200000,
  "price_to": null,
  "owner": false
}
```